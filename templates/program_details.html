<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ program.name }} Details</title>
    <link rel="stylesheet" href="/static/p.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" rel="stylesheet">
    <style>
        ::-webkit-scrollbar {
            display: none;
        }

        .container {
            max-height: 100dvh;
            overflow: hidden;
            display: flex;
            flex-direction: column;
            gap: 2rem;
            padding: 1rem;
        }

        .container .table-cont {
            display: flex;
            overflow: hidden;
            flex-direction: column;
            flex: 1;
            
        }

        .tbl {
            flex: 1;
            overflow: auto;
            position: relative;
        }

        thead {
            position: sticky;
            top: 0;
            background: white;
        }

        .fullscreen-btn {
            position: absolute;
            top: 15px;
            right: 30px;
            background: transparent;
            border: none;
            font-size: 24px;
            cursor: pointer;
            opacity: 50%;
        }

        .fullscreen-btn:focus {
            outline: none;
        }
    </style>
</head>

<body style="padding-right: 1rem;">
    <div class="container">
        <button class="fullscreen-btn" onclick="toggleFullscreen()">
            <i class="fas fa-expand"></i>
        </button>
        <h1 class="text-center" style="text-transform: uppercase; margin-bottom:0; font-weight:bold;">
            {{ program.category }} {{ program.name }}
        </h1>
        <div class="table-cont">
            <h2 class="text-center">Participants</h2>
            <div class="h-full tbl">
                <table class="table table-striped">
                    <thead>
                        <tr>
                            <th>No.</th>
                            <th>Jamia ID</th>
                            <th>Name</th>
                            <th>Status</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for entry in student_details %}
                        <tr>
                            <td>{{ loop.index }}</td>
                            <td>{{ entry.student.jamiaNo }}</td>
                            <td>{{ entry.student.name }}</td>
                            <td>{{ entry.status }}</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <script>
        // Function to toggle fullscreen
        function toggleFullscreen() {
            if (!document.fullscreenElement) {
                // Enter fullscreen mode
                if (document.documentElement.requestFullscreen) {
                    document.documentElement.requestFullscreen();
                } else if (document.documentElement.mozRequestFullScreen) { // Firefox
                    document.documentElement.mozRequestFullScreen();
                } else if (document.documentElement.webkitRequestFullscreen) { // Chrome, Safari and Opera
                    document.documentElement.webkitRequestFullscreen();
                } else if (document.documentElement.msRequestFullscreen) { // IE/Edge
                    document.documentElement.msRequestFullscreen();
                }
                // Change the button icon to collapse
                document.querySelector('.fullscreen-btn i').classList.remove('fa-expand');
                document.querySelector('.fullscreen-btn i').classList.add('fa-compress');
            } else {
                // Exit fullscreen mode
                if (document.exitFullscreen) {
                    document.exitFullscreen();
                } else if (document.mozCancelFullScreen) { // Firefox
                    document.mozCancelFullScreen();
                } else if (document.webkitExitFullscreen) { // Chrome, Safari and Opera
                    document.webkitExitFullscreen();
                } else if (document.msExitFullscreen) { // IE/Edge
                    document.msExitFullscreen();
                }
                // Change the button icon back to expand
                document.querySelector('.fullscreen-btn i').classList.remove('fa-compress');
                document.querySelector('.fullscreen-btn i').classList.add('fa-expand');
            }
        }
    </script>
</body>

</html>
